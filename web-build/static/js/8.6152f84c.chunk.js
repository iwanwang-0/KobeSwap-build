(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{1225:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(21),l=n(38),c=n(66),i=n(79),s=n(51);t.a=function(e){var t=Object(c.a)(),n=Object(l.a)(),m=(n.textDark,n.textLight,n.placeholder,Object(a.useContext)(s.a).darkMode);return r.a.createElement(i.a,{style:{fontSize:o.d?28:20,marginBottom:o.g.normal,color:m?"#FFFFFF":"#333333"}},e.disabled?t("n/a"):e.amount?e.amount+" "+(e.suffix||""):t("fetching"))}},1226:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(66),l=n(328);t.a=function(e){var t=e.symbol,n=Object(o.a)();return r.a.createElement(l.a,{title:t?n("insufficient-",{symbol:t}):n("insufficient-balance"),disabled:!0})}},1232:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(19),l=n.n(o),c=n(0),i=n.n(c),s=n(4),m=n(21),u=n(58),d=n(66),b=n(328);t.a=function(e){var t,n=Object(d.a)(),a=Object(c.useContext)(u.b).approveToken,o=Object(c.useState)(!1),f=l()(o,2),p=f[0],y=f[1],O=Object(c.useCallback)((function(){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.token){n.next=19;break}return e.onError({}),y(!0),n.prev=3,n.next=6,r.a.awrap(a(e.token.address,e.spender));case 6:if(!(t=n.sent)){n.next=11;break}return n.next=10,r.a.awrap(t.wait());case 10:e.onSuccess();case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),e.onError(n.t0);case 16:return n.prev=16,y(!1),n.finish(16);case 19:case"end":return n.stop()}}),null,null,[[3,13,16,19]],Promise)}),[e.token]);return e.hidden?i.a.createElement(s.a,null):i.a.createElement(b.a,{title:n("approve-",{symbol:(null==(t=e.token)?void 0:t.symbol)||""}),onPress:O,loading:p,containerStyle:{marginBottom:m.g.tiny}})}},1237:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),l=n(21),c=n(38),i=n(416),s=n(328),m=n(79);t.a=function(e){var t=Object(c.a)().textLight,n=(0,Object(i.a)().border)({color:e.color}),a=e.color||t;return r.a.createElement(o.a,{style:[e.clear?{}:n,e.style]},r.a.createElement(m.a,{note:!0,style:{color:a}},e.text),e.buttonText&&e.onPressButton&&r.a.createElement(s.a,{title:e.buttonText,type:"clear",size:"small",fontWeight:"bold",onPress:e.onPressButton,titleStyle:{color:a},buttonStyle:{paddingHorizontal:0,paddingVertical:0},style:{alignSelf:"flex-end",marginTop:l.g.tiny}}))}},1239:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(21),l=n(79);t.a=function(e){return r.a.createElement(l.a,{medium:!0,caption:!0,disabled:e.disabled,style:{marginLeft:o.g.tiny}},e.token.symbol)}},1243:function(e,t,n){"use strict";var a=n(145),r=n.n(a),o={};t.a=function(e,t,n){var a=e.toString();r()((function(){var n=setTimeout(e,t);return o[a]=n,n}),(function(e){clearTimeout(e)}),n)}},1244:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(21),l=n(22),c=n(79),i=n(51);t.a=function(e){Object(a.useContext)(i.a).darkMode;return r.a.createElement(c.a,{caption:o.d,disabled:e.disabled,style:e.style},Object(l.d)(e.amount||e.token.balance,e.token.decimals,8))}},1245:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(21),l=n(79),c=n(51);t.a=function(e){var t=Object(a.useContext)(c.a).darkMode;return r.a.createElement(l.a,{caption:!0,numberOfLines:1,ellipsizeMode:"tail",style:{marginLeft:o.g.small,width:180,color:t?"#FFFFFF":"#333333"},disabled:e.disabled},o.d?e.token.name:e.token.symbol)}},1250:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),l=n(21),c=n(1228),i=n(1233),s=n(90),m=n(1222),u=n(1223),d=n(1231),b=n(79),f=n(51),p=function(e){var t=Object(a.useContext)(f.a).darkMode;return r.a.createElement(u.a,{containerStyle:{marginBottom:m.a},style:{paddingLeft:l.g.small+l.g.tiny,paddingRight:l.g.small},selected:e.selected,disabled:e.selectable,onPress:function(){return null==e.setOption?void 0:e.setOption(e.selected?void 0:e.option)}},r.a.createElement(s.a,{style:{alignItems:"center"}},r.a.createElement(o.a,{style:{flex:1}},r.a.createElement(b.a,{fontWeight:"regular",style:{color:t?"#4B607E":"#333333"}},e.option.title),r.a.createElement(b.a,{note:!0,style:{marginTop:4,color:t?"#AAAAAA":"#333333"}},e.option.description)),e.selected?r.a.createElement(c.a,null):r.a.createElement(d.a,null)))};t.a=function(e){return r.a.createElement(o.a,null,r.a.createElement(i.a,{title:e.title,expanded:!e.option,onExpand:function(){return e.setOption()}},e.options.map((function(t){var n;return r.a.createElement(p,{key:t.key,option:t,setOption:e.setOption,selected:t.key===(null==(n=e.option)?void 0:n.key)})}))),e.option&&r.a.createElement(p,{option:e.option,setOption:e.setOption,selected:!0,selectable:!1}))}},1251:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(22),l=n(79);t.a=function(e){return r.a.createElement(l.a,{note:!0,fontWeight:"light",disabled:e.disabled,style:e.style},Object(o.f)(e.token.priceUSD||0,4))}},1252:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(22),l=n(79);t.a=function(e){return r.a.createElement(l.a,{note:!0,fontWeight:"light",disabled:e.disabled,style:e.style},Object(o.f)(e.token.valueUSD||0,4))}},1258:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(66),l=n(328);t.a=function(e){var t=e.state,n=Object(o.a)();return r.a.createElement(l.a,{title:t.fromSymbol+"-"+t.toSymbol+" "+n("not-supported"),disabled:!0})}},1261:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(19),l=n.n(o),c=n(0),i=n.n(c),s=n(245),m=n(4),u=n(21),d=n(58),b=n(1243),f=n(1228),p=n(1233),y=n(90),O=n(1222),k=n(1235),E=n(1223),j=n(1231),g=n(79),v=n(1244),T=n(1224),S=n(1245),x=n(1251),h=n(10),w=n.n(h),P=n(93),A=n(32),F=n(38),C=n(416),D=n(66),B=n(329),L=n(328),I=n(1241);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){return i.a.createElement(P.a,{size:"small",style:{position:"absolute",right:16,bottom:16}})},M=function(e){var t=Object(D.a)(),n=Object(F.a)().accent,a=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]);return i.a.createElement(E.a,{selected:!1,disabled:!0,onPress:a,containerStyle:{marginBottom:O.a}},i.a.createElement(y.a,{style:{alignItems:"center"}},i.a.createElement(T.a,{token:e.token}),i.a.createElement(S.a,{token:e.token}),i.a.createElement(m.a,{style:{flex:1}}),i.a.createElement(L.a,{type:"clear",size:"small",color:n,title:e.duplicate?t("already-added"):t("-add-")+" "+e.token.symbol,fontWeight:"bold",onPress:a,disabled:e.duplicate,buttonStyle:{paddingHorizontal:4,height:27}})))},R=function(e){var t=Object(D.a)(),n=Object(C.a)().border,a=Object(c.useContext)(d.b),o=a.provider,s=a.tokens,f=Object(c.useState)(),p=l()(f,2),O=p[0],k=p[1],E=Object(c.useState)(!1),j=l()(E,2),g=j[0],v=j[1],T=!!O&&-1!==s.findIndex((function(e){return e.address===O.address}));return e.tokens?(Object(c.useEffect)((function(){""===e.text&&(v(!1),k(void 0))}),[e.text]),Object(b.a)((function(){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.text.trim(),!o||!A.ethers.utils.isAddress(t)){a.next=11;break}return v(!0),a.prev=3,a.next=6,r.a.awrap(Object(B.j)(t,o));case 6:(n=a.sent).name&&n.symbol&&n.decimals&&k(n);case 8:return a.prev=8,v(!1),a.finish(8);case 11:case"end":return a.stop()}}),null,null,[[3,,8,11]],Promise)}),300,[o,e.text]),i.a.createElement(m.a,null,i.a.createElement(y.a,{style:{marginBottom:u.g.small}},i.a.createElement(I.a,{value:e.text,onChangeText:e.onChangeText,placeholder:t("token-name-symbol-or-address"),autoFocus:u.d,inputStyle:{marginHorizontal:u.g.tiny,fontSize:e.text?20:16},inputContainerStyle:{borderBottomWidth:0,marginRight:g?32:0},labelStyle:{height:0},containerStyle:z(z({},n()),{},{paddingHorizontal:u.g.tiny,paddingTop:12,paddingBottom:0})}),e.onAddToken&&g&&i.a.createElement(U,null)),e.onAddToken&&O&&i.a.createElement(M,{token:O,selected:!0,onSelectToken:e.onAddToken,duplicate:T}))):i.a.createElement(m.a,null)},W=n(1239),Z=n(1252),V=n(51),N=function(e){var t=Object(c.useContext)(d.b),n=t.loadingTokens,a=t.tokens,r=Object(c.useCallback)((function(t){var n=t.item;return i.a.createElement(Y,{key:n.address,token:n,selected:!1,onSelectToken:e.onSelectToken,disabled:null==e.disabled?void 0:e.disabled(n)})}),[e.onSelectToken,e.disabled]),o=Object(c.useMemo)((function(){return a.filter((function(t){return!e.hidden||!e.hidden(t)})).sort(_)}),[a,e.hidden]);return n?i.a.createElement(k.a,null):0===o.length?i.a.createElement(J,null):i.a.createElement(s.a,{keyExtractor:function(e){return e.address},data:o,renderItem:r})},J=function(){return i.a.createElement(m.a,{style:{margin:u.g.normal}},i.a.createElement(g.a,{disabled:!0,style:{textAlign:"center",width:"100%"}},"You don't have any matching tokens."))},Y=function(e){var t=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]),n=Object(c.useContext)(V.a).darkMode;return i.a.createElement(E.a,{selected:e.selected,onPress:t,disabled:e.disabled||e.selectable,containerStyle:{marginBottom:O.a}},i.a.createElement(y.a,{style:{alignItems:"center"}},i.a.createElement(T.a,{token:e.token,disabled:e.disabled}),i.a.createElement(m.a,null,null!==e.token.priceUSD&&i.a.createElement(x.a,{token:e.token,disabled:e.disabled,style:{marginLeft:u.g.small}}),i.a.createElement(S.a,{token:e.token,disabled:e.disabled})),i.a.createElement(m.a,{style:{flex:1,alignItems:"flex-end"}},null!==e.token.valueUSD&&i.a.createElement(Z.a,{token:e.token,disabled:e.disabled}),i.a.createElement(y.a,null,i.a.createElement(v.a,{token:e.token,disabled:e.disabled,style:{flex:1,textAlign:"right",color:n?"#FFFFFF":"#333333"}}),u.d&&i.a.createElement(W.a,{token:e.token,disabled:e.disabled}))),e.selected?i.a.createElement(f.a,null):i.a.createElement(j.a,null)))},_=function(e,t){if(t.balance.isZero()&&e.balance.isZero())return((null==t?void 0:t.priceUSD)||0)-((null==e?void 0:e.priceUSD)||0);var n=(null==t?void 0:t.valueUSD)||0,a=(null==e?void 0:e.valueUSD)||1;return n===a?(t.balance.isZero()?0:1e10)-(e.balance.isZero()?0:1e10)+e.symbol.localeCompare(t.symbol):n-a};t.a=function(e){var t=Object(c.useContext)(d.b),n=t.tokens,a=t.addCustomToken,o=Object(c.useState)(""),s=l()(o,2),u=s[0],f=s[1],y=Object(c.useState)(""),O=l()(y,2),k=O[0],E=O[1],j=Object(c.useMemo)((function(){return n.find((function(t){return t.symbol===e.symbol}))}),[n,e.symbol]);return Object(c.useEffect)((function(){return f("")}),[e.symbol]),Object(b.a)((function(){return E(u.trim().toLowerCase())}),300,[u]),i.a.createElement(m.a,{style:e.style},i.a.createElement(p.a,{title:e.title,expanded:!e.symbol,onExpand:function(){return e.onChangeSymbol("")}},i.a.createElement(R,{text:u,onChangeText:f,tokens:n,onAddToken:function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(a(t));case 2:f(""),E(""),e.onChangeSymbol(t.symbol);case 5:case"end":return n.stop()}}),null,null,null,Promise)}}),i.a.createElement(N,{disabled:e.disabled,hidden:function(t){return k.length>0?!t.symbol.toLowerCase().includes(k)&&!t.name.toLowerCase().includes(k):(null==e.hidden?void 0:e.hidden(t))||!1},onSelectToken:function(t){return e.onChangeSymbol(t.symbol)}})),j&&i.a.createElement(Y,{token:j,selected:!0,onSelectToken:function(){return e.onChangeSymbol("")},selectable:!0}))}},1404:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(19),l=n.n(o),c=n(10),i=n.n(c),s=n(0),m=n.n(s),u=n(4),d=n(32),b=n(145),f=n.n(b),p=n(1225),y=n(1232),O=n(1227),k=n(328),E=n(417),j=n(246),g=n(1229),v=n(21),T=n(163),S=n(66),x=n(1237),h=function(e){var t=Object(S.a)(),n=Object(T.a)(e.contractURL,"","_blank");return m.a.createElement(u.a,{style:{marginVertical:v.g.tiny}},m.a.createElement(x.a,{text:t("experimental-notice"),color:"orange",buttonText:"View Contract",onPressButton:n}))},w=n(1234),P=n(1221),A=n(1230),F=n(1226),C=n(1236),D=n(1250),B=n(79),L=n(418),I=n(1238),H=n(1261),z=n(1258),U=n(247),M=n(421),R=n(60),W=n(164),Z=n(58),V=n(38),N=n(1243),J=n(453),Y=n(22),_=n(1246),q=n(420),G=n(425),K=n(422),Q=n(1247);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){var e=Object(Q.a)(),t=Object(s.useContext)(Z.b),n=t.chainId,a=t.provider,o=t.signer,c=t.kovanSigner,i=t.updateTokens,m=Object(q.a)().getTrade,u=Object(K.b)(),b=u.swap,p=u.calculateSwapFee,y=Object(G.b)(),O=y.calculateLimitOrderFee,k=y.calculateLimitOrderReturn,E=Object(G.b)().createOrder,j=Object(s.useState)(!0),g=l()(j,2),v=g[0],T=g[1],S=Object(s.useState)(),x=l()(S,2),h=x[0],w=x[1],P=Object(s.useState)(),A=l()(P,2),F=A[0],C=A[1],D=Object(s.useState)(),B=l()(D,2),L=B[0],I=B[1],H=Object(s.useState)(!1),z=l()(H,2),U=z[0],M=z[1],R=Object(s.useState)(""),V=l()(R,2),X=V[0],ee=V[1],te=Object(s.useState)(""),ne=l()(te,2),ae=ne[0],re=ne[1],oe=Object(s.useState)(""),le=l()(oe,2),ce=le[0],ie=le[1],se=Object(s.useState)(""),me=l()(se,2),ue=me[0],de=me[1],be=Object(s.useState)(""),fe=l()(be,2),pe=fe[0],ye=fe[1],Oe=Object(s.useState)(!1),ke=l()(Oe,2),Ee=ke[0],je=ke[1],ge=Object(s.useState)(!1),ve=l()(ge,2),Te=ve[0],Se=ve[1];Object(s.useEffect)((function(){h||e.setFromSymbol(""),re("")}),[h]),f()((function(){var t,o,l;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(C(void 0),!a||!e.fromToken){c.next=18;break}if(!Object(Y.k)(e.fromToken)){c.next=6;break}C(d.ethers.constants.WeiPerEther),c.next=18;break;case 6:return c.prev=6,t=new J.c(n,e.fromToken.address,e.fromToken.decimals),o=J.d[n],c.next=11,r.a.awrap(J.b.fetchPairData(t,o,a));case 11:l=c.sent,C(Object(Y.l)(l.priceOf(o).toFixed(),t.decimals)),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(6),C(null);case 18:case"end":return c.stop()}}),null,null,[[6,15]],Promise)}),[n,a,e.fromToken]),Object(N.a)((function(){Object(Y.j)(e.fromAmount)&&(re(""),I(void 0))}),300,[e.fromAmount]),Object(_.a)((function(t){var n;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t||T(!0),!(e.fromToken&&e.toToken&&e.fromAmount&&a)){o.next=21;break}if((n=Object(Y.l)(e.fromAmount,e.fromToken.decimals)).isZero()){o.next=21;break}return M(!1),o.prev=5,console.log("---------setTrade"),console.log("--------- from : "+typeof e.fromToken+", to : "+typeof e.toToken+", amount : "+typeof n+", provider : "+typeof a),o.t0=I,o.next=11,r.a.awrap(m(e.fromToken,e.toToken,n,a));case 11:o.t1=o.sent,(0,o.t0)(o.t1),o.next=18;break;case 15:o.prev=15,o.t2=o.catch(5),M(!0);case 18:return o.prev=18,T(!1),o.finish(18);case 21:case"end":return o.stop()}}),null,null,[[5,15,18,21]],Promise)}),(function(){return"getTrade("+e.fromSymbol+","+e.toSymbol+","+e.fromAmount+")"}),[e.fromSymbol,e.toSymbol,e.fromAmount]),f()((function(){if(L&&!Object(Y.j)(e.fromAmount)){var t=Object(Y.l)(e.fromAmount,e.fromToken.decimals);ee(Object(Y.d)(p(t),e.fromToken.decimals,8)),"limit"===h&&(ie(Object(Y.d)(O(t),e.fromToken.decimals,8)),de(Object(Y.d)(p(t.sub(O(t))),e.fromToken.decimals,8)))}}),[h,L,e.fromAmount]),f()((function(){e.fromToken&&e.toToken&&!Object(Y.j)(e.fromAmount)&&!Object(Y.j)(ae)&&ye(Object(Y.d)(k(e.fromToken,e.toToken,Object(Y.l)(e.fromAmount,e.fromToken.decimals),ae),e.toToken.decimals))}),[e.fromToken,e.toToken,e.fromAmount,ae]);var xe=Object(s.useCallback)((function(){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.fromToken&&e.toToken&&e.fromAmount&&o&&L)){n.next=16;break}return je(!0),n.prev=2,n.next=5,r.a.awrap(b(L,o));case 5:if(!(t=n.sent)){n.next=13;break}return n.next=9,r.a.awrap(t.tx.wait());case 9:return n.next=11,r.a.awrap(i());case 11:I(void 0),w(void 0);case 13:return n.prev=13,je(!1),n.finish(13);case 16:case"end":return n.stop()}}),null,null,[[2,,13,16]],Promise)}),[e.fromToken,e.toToken,e.fromAmount,o,L]),he=Object(s.useCallback)((function(){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.fromToken&&e.toToken&&e.fromAmount&&!Object(Y.j)(ae)&&o&&c)){a.next=14;break}return Se(!0),a.prev=2,t=Object(Y.l)(e.fromAmount,e.fromToken.decimals),a.next=6,r.a.awrap(E(e.fromToken,e.toToken,t,W.a.parse(ae).apply(t).mul(Object(Y.n)(e.toToken.decimals)).div(Object(Y.n)(e.fromToken.decimals)),o,c));case 6:return n=a.sent,a.next=9,r.a.awrap(n.wait());case 9:I(void 0),w(void 0);case 11:return a.prev=11,Se(!1),a.finish(11);case 14:case"end":return a.stop()}}),null,null,[[2,,11,14]],Promise)}),[e.fromToken,e.toToken,e.fromAmount,o,c,ae]);return $($({},e),{},{loading:v||e.loading,orderType:h,setOrderType:w,priceInETH:F,trade:L,unsupported:U,swapFee:X,limitOrderPrice:ae,setLimitOrderPrice:re,limitOrderFee:ce,limitOrderSwapFee:ue,limitOrderReturn:pe,onSwap:xe,swapping:Ee,limitOrderUnsupported:"limit"===h&&(Object(Y.h)(e.fromToken)||Object(Y.h)(e.toToken)),onCreateOrder:he,creatingOrder:Te})},te=n(419),ne=n(51);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(){var e=ee();return m.a.createElement(u.a,{style:{marginTop:v.g.large}},m.a.createElement(le,{state:e}),m.a.createElement(O.a,null),m.a.createElement(ce,{state:e}),m.a.createElement(O.a,null),m.a.createElement(ie,{state:e}),m.a.createElement(O.a,null),m.a.createElement(se,{state:e}),"limit"===e.orderType&&m.a.createElement(u.a,{style:{marginTop:v.g.small}},m.a.createElement(me,{state:e}),m.a.createElement(O.a,null),m.a.createElement(ue,{state:e})),!e.loading&&!e.trade&&m.a.createElement(be,{state:e}),m.a.createElement(fe,{state:e}))},le=function(e){var t=e.state,n=Object(S.a)(),a=[{key:"market",title:n("market-order"),description:n("market-order-desc")},{key:"limit",title:n("limit-order"),description:n("limit-order-desc")}];return m.a.createElement(u.a,null,m.a.createElement(D.a,{title:n("order-type"),options:a,option:a.find((function(e){return e.key===t.orderType})),setOption:function(e){return t.setOrderType(null==e?void 0:e.key)}}),"limit"===t.orderType&&m.a.createElement(h,{contractURL:"https://github.com/sushiswap/sushiswap-settlement/blob/master/contracts/Settlement.sol"}))},ce=function(e){var t=e.state,n=Object(S.a)(),a=Object(s.useContext)(Z.b),r=a.tokens,o=a.customTokens;if(!t.orderType)return m.a.createElement(P.a,{text:n("token-to-sell"),disabled:!0});var l=r?r.find((function(e){return Object(Y.h)(e)})):null;return m.a.createElement(u.a,null,m.a.createElement(H.a,{title:n("token-to-sell"),symbol:t.fromSymbol,onChangeSymbol:t.setFromSymbol,hidden:function(e){return!o.find((function(t){return t.address===e.address}))&&e.balance.isZero()||"limit"===t.orderType&&Object(Y.h)(e)}}),"limit"===t.orderType&&!t.fromSymbol&&l&&!l.balance.isZero()&&m.a.createElement(de,null))},ie=function(e){var t=e.state,n=Object(S.a)();if(!t.orderType||!t.fromSymbol)return m.a.createElement(P.a,{text:n("token-to-buy"),disabled:!0});var a="limit"===t.orderType;return m.a.createElement(u.a,null,m.a.createElement(H.a,{title:n("token-to-buy"),symbol:t.toSymbol,onChangeSymbol:function(e){t.setToSymbol(a&&"ETH"===e?"WETH":e)},hidden:function(e){return e.symbol===t.fromSymbol||a&&Object(Y.h)(e)}}),"limit"===t.orderType&&!t.toSymbol&&m.a.createElement(de,null))},se=function(e){var t=e.state,n=Object(S.a)();return t.fromSymbol&&t.toSymbol?m.a.createElement(u.a,null,m.a.createElement(P.a,{text:t.fromSymbol+" "+n("amount")}),m.a.createElement(I.a,{token:t.fromToken,amount:t.fromAmount,onAmountChanged:t.setFromAmount,autoFocus:v.d})):m.a.createElement(P.a,{text:n("amount"),disabled:!0})},me=function(e){var t=e.state,n=Object(S.a)();return void 0===t.priceInETH||Object(Y.j)(t.fromAmount)||!t.fromToken||t.priceInETH&&Object(Y.l)(t.fromAmount,t.fromToken.decimals).lte(t.priceInETH.mul(10))?m.a.createElement(u.a,null):m.a.createElement(u.a,null,m.a.createElement(x.a,{text:null===t.priceInETH?n("token-not-supported-in-beta"):n("maximum-allowed-amount-in-beta",{amount:Object(Y.d)(t.priceInETH.mul(10),t.fromToken.decimals),symbol:t.fromSymbol}),color:"red"}))},ue=function(e){var t=e.state,n=Object(S.a)();if(!t.fromSymbol||!t.toSymbol)return m.a.createElement(P.a,{text:n("minimum-price"),disabled:!0});var a=t.toToken&&t.trade?Object(Y.l)(t.trade.executionPrice.invert().toFixed(t.toToken.decimals),t.toToken.decimals):d.ethers.constants.Zero;return m.a.createElement(I.a,{title:n("minimum-price")+" ("+t.fromSymbol+"/"+t.toSymbol+")",token:re(re({},t.toToken),{},{balance:a}),amount:t.limitOrderPrice,onAmountChanged:t.setLimitOrderPrice,maxButtonText:n("-market-")})},de=function(){var e=Object(V.a)().placeholder,t=Object(S.a)();return m.a.createElement(x.a,{text:t("eth-not-supported-for-limit-orders"),color:e,clear:!0,style:{marginVertical:v.g.small,marginHorizontal:v.g.tiny}})},be=function(e){var t=e.state,n=Object(S.a)();return m.a.createElement(x.a,{text:n("pair-not-created",{fromSymbol:t.fromSymbol,toSymbol:t.toSymbol}),color:"red",style:{marginTop:v.g.normal}})},fe=function(e){var t=e.state;if(Object(Y.i)(t.fromToken,t.toToken))return m.a.createElement(pe,{state:t});var n=""===t.fromSymbol||""===t.toSymbol||Object(Y.j)(t.fromAmount)||"limit"===t.orderType&&Object(Y.h)(t.fromToken)||!t.loading&&!t.trade;return m.a.createElement(A.a,null,"limit"===t.orderType?m.a.createElement(ge,{state:t}):m.a.createElement(ye,{state:t,disabled:n}))},pe=function(e){var t=e.state,n=Object(Y.j)(t.fromAmount);return m.a.createElement(A.a,null,m.a.createElement(B.a,{style:{fontSize:28,marginBottom:v.g.normal},disabled:n},n?"N/A":t.fromAmount+" "+t.toSymbol),m.a.createElement(Oe,{state:t}))},ye=function(e){var t,n,a,r,o,l,c=e.state,i=e.disabled,s=Object(S.a)(),d=null==(t=c.trade)||null==(n=t.outputAmount)?void 0:n.toFixed(),b=null==(a=c.trade)||null==(r=a.executionPrice)?void 0:r.toFixed(),f=null==(o=c.trade)||null==(l=o.priceImpact)?void 0:l.toFixed(2);return m.a.createElement(u.a,null,m.a.createElement(p.a,{amount:d,suffix:c.toSymbol,disabled:i}),m.a.createElement(C.a,{label:s("price"),text:b,suffix:c.toSymbol+"  = 1 "+c.fromSymbol,disabled:i}),m.a.createElement(C.a,{label:s("price-impact"),text:f,suffix:"%",disabled:i}),m.a.createElement(C.a,{label:s("fee-amount"),text:c.swapFee,suffix:c.fromSymbol,disabled:i}),m.a.createElement(Oe,{state:c}))},Oe=function(e){var t=e.state,n=Object(s.useState)({}),a=l()(n,2),r=a[0],o=a[1];f()((function(){return o({})}),[t.fromSymbol,t.toSymbol,t.fromAmount]);var c=!Object(Y.h)(t.fromToken)&&!t.fromTokenAllowed;return m.a.createElement(u.a,{style:{marginTop:v.g.normal}},t.fromToken&&t.toToken&&!Object(Y.j)(t.fromAmount)&&(t.loading||t.trade)?Object(Y.l)(t.fromAmount,t.fromToken.decimals).gt(t.fromToken.balance)?m.a.createElement(F.a,{symbol:t.fromSymbol}):Object(Y.k)(t.fromToken)&&Object(Y.h)(t.toToken)?m.a.createElement(je,{state:t,onError:o}):Object(Y.h)(t.fromToken)&&Object(Y.k)(t.toToken)?m.a.createElement(Ee,{state:t,onError:o}):t.unsupported?m.a.createElement(z.a,{state:t}):t.loading||!t.trade?m.a.createElement(w.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(y.a,{token:t.fromToken,spender:R.d,onSuccess:function(){return t.setFromTokenAllowed(!0)},onError:o,hidden:!c}),m.a.createElement(ke,{state:t,onError:o,disabled:c})):m.a.createElement(ke,{state:t,onError:o,disabled:!0}),r.message&&4001!==r.code&&m.a.createElement(g.a,{error:r}))},ke=function(e){var t=e.state,n=e.onError,a=e.disabled,r=Object(S.a)(),o=Object(s.useCallback)((function(){n({}),t.onSwap().catch(n)}),[t.onSwap,n]);return m.a.createElement(k.a,{title:r("swap-",{symbol:t.fromSymbol&&t.toSymbol?" "+t.fromSymbol+"-"+t.toSymbol:""}),disabled:a,loading:t.swapping,onPress:o})},Ee=function(e){var t=e.state,n=e.onError,a=Object(S.a)(),o=Object(s.useCallback)((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n({}),t.onWrap().catch(n);case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return m.a.createElement(k.a,{title:a("wrap"),loading:t.wrapping,onPress:o})},je=function(e){var t=e.state,n=e.onError,a=Object(S.a)(),o=Object(s.useCallback)((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n({}),t.onUnwrap().catch(n);case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return m.a.createElement(k.a,{title:a("unwrap"),loading:t.unwrapping,onPress:o})},ge=function(e){var t,n,a,r=e.state,o=Object(S.a)(),l=!(null==(t=r.trade)?void 0:t.executionPrice);return m.a.createElement(u.a,null,m.a.createElement(B.a,{disabled:Object(Y.j)(r.limitOrderReturn),style:{fontSize:28,marginBottom:v.g.normal}},Object(Y.j)(r.limitOrderReturn)?"N/A":r.limitOrderReturn+" "+r.toSymbol),m.a.createElement(C.a,{label:o("market-price"),text:(null==(n=r.trade)||null==(a=n.executionPrice)?void 0:a.invert().toFixed(8))||void 0,suffix:r.fromSymbol+" / "+r.toSymbol,disabled:l}),m.a.createElement(C.a,{label:o("relayer-fee-amount"),text:r.limitOrderFee,suffix:r.fromSymbol,disabled:l}),m.a.createElement(C.a,{label:o("swap-fee-amount"),text:r.limitOrderSwapFee,suffix:r.fromSymbol,disabled:l}),m.a.createElement(C.a,{label:o("expiration"),text:o("24-hours-from-now"),disabled:l}),m.a.createElement(ve,{state:r}))},ve=function(e){var t=e.state,n=Object(s.useContext)(Z.b).getTokenAllowance,a=Object(s.useState)({}),o=l()(a,2),c=o[0],i=o[1],b=Object(s.useState)(),p=l()(b,2),O=p[0],k=p[1];f()((function(){return i({})}),[t.fromSymbol,t.toSymbol,t.fromAmount]),Object(N.a)((function(){var e,a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.fromToken||Object(Y.j)(t.fromAmount)){o.next=6;break}return e=Object(Y.l)(t.fromAmount,t.fromToken.decimals),o.next=4,r.a.awrap(n(t.fromToken.address,R.e));case 4:a=o.sent,k(d.ethers.BigNumber.from(a).gte(e));case 6:case"end":return o.stop()}}),null,null,null,Promise)}),500,[t.fromToken,t.fromAmount]);var E="market"===t.orderType||""===t.toSymbol||!t.fromToken||!t.toToken||Object(Y.j)(t.fromAmount)||!t.priceInETH||Object(Y.l)(t.fromAmount,t.fromToken.decimals).gt(t.priceInETH.mul(10))||!t.trade||Object(Y.j)(t.limitOrderPrice);return m.a.createElement(u.a,{style:{marginTop:v.g.normal}},E?m.a.createElement(Se,{state:t,onError:i,disabled:!0}):Object(Y.l)(t.fromAmount,t.fromToken.decimals).gt(t.fromToken.balance)?m.a.createElement(F.a,{symbol:t.fromSymbol}):W.a.parse(t.limitOrderPrice).gt(W.a.parse(t.trade.executionPrice.invert().toFixed(t.toToken.decimals)))?t.unsupported?m.a.createElement(z.a,{state:t}):t.loading||!t.trade?m.a.createElement(w.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(y.a,{token:t.fromToken,spender:R.e,onSuccess:function(){return k(!0)},onError:i,hidden:O}),m.a.createElement(Se,{state:t,onError:i,disabled:!O})):m.a.createElement(Te,null),c.message&&4001!==c.code&&m.a.createElement(g.a,{error:c}))},Te=function(){var e=Object(S.a)();return m.a.createElement(k.a,{title:e("set-price-greater-than-market"),disabled:!0})},Se=function(e){var t=e.state,n=e.onError,a=e.disabled,o=Object(S.a)(),l=Object(T.a)("/swap/my-orders","LimitOrders"),c=Object(s.useCallback)((function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n({}),e.prev=1,e.next=4,r.a.awrap(t.onCreateOrder());case 4:l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(e.t0);case 10:case"end":return e.stop()}}),null,null,[[1,7]],Promise)}),[t.onCreateOrder,l,n]);return m.a.createElement(k.a,{title:o("place-limit-order"),disabled:a,loading:t.creatingOrder,onPress:c})};t.default=function(){var e=Object(S.a)(),t=Object(s.useContext)(ne.a).darkMode;return m.a.createElement(te.a,null,m.a.createElement(E.a,null,m.a.createElement(j.a,null,m.a.createElement(L.a,{text:e("new-order"),style:{color:t?"#FFFFFF":"#333333"}}),m.a.createElement(B.a,{light:!0,style:{color:t?"#4B607E":"#333333"}},e("new-order-desc")),m.a.createElement(oe,null)),!v.d&&m.a.createElement(U.a,null),m.a.createElement(u.a,{style:{height:200,padding:20}})),m.a.createElement(M.e,null))}}}]);
//# sourceMappingURL=8.6152f84c.chunk.js.map